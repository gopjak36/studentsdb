{% extends 'students/base.html' %}

{% load static from staticfiles %}

{% block meta_title %} Редагувати Іспит {% endblock meta_title %}

{% block title %} Редагувати Іспит {% endblock title %}

{% block content %}

<form class="form-horizontal" action="{% url 'exams_edit' eid %}" method="post" enctype="multipart/form-data">

  {% csrf_token %}

  <div class="form-group">
    <label for="title" class="col-sm-2 control-label">Назва Іспиту*</label>
    <div class="col-sm-10">
      <input type="text" class="form-control" name="title" id="title" value="{{ exams.title }}"/>
      <span class="help-block">{{ errors.title }}</span>
    </div>
  </div>

  <div class="form-group">
    <label for="group_name" class="col-sm-2 control-label">Група*</label>
    <div class="col-sm-10">
      <select class="form-control" name="group_name" id="group_name">
          <option value="">Виберіть групу для Іспиту</value>
          <!-- Create Extra IF for Initial Exams Form, because can't auto select current group -->
          {% if current_group %}
          <option value="{{ current_group.id }}" selected="1">{{ current_group }}</value>
          {% endif %}
          <!-- Group List from Database Start -->
          {% for group in groups %}
            <!-- Extra IF for Initial Form -->
            {% if group.id == current_group.id %}
            <!-- PASS -->
            {% else %}
            <option value="{{ group.id }}" {% if group.id == request.POST.group_name|add:0 %}selected="1" {% endif %}>{{ group }}</value>
            {% endif %}
          {% endfor %}
          <!-- Group List from Database End -->
      </select>
      <span class="help-block">{{ errors.group_name }}</span>
    </div>
  </div>

  <div class="form-group">
    <label for="lecture" class="col-sm-2 control-label">Викладач*</label>
    <div class="col-sm-10">
      <input type="text" class="form-control" name="lecture" id="lecture" value="{{ exams.lecture }}"/>
      <span class="help-block">{{ errors.lecture }}</span>
    </div>
  </div>

  <div class="form-group">
    <label for="datetime" class="col-sm-2 control-label">Дата та Час*</label>
    <div class="col-sm-10">
      <input type="text" class="form-control" name="datetime" id="datetime" value="{{ exams.datetime|date:'Y-m-d H:i' }}"/>
      <span class="help-block">{{ errors.datetime }}</span>
    </div>
  </div>

  <div class="form-group">
    <label for="notes" class="col-sm-2 control-label">Додаткові Нотатки*</label>
    <div class="col-sm-10">
      <textarea class="form-control" name="notes" id="notes">{{ exams.notes }}</textarea>
    </div>
  </div>

  <div>
    <input type="submit" value="Додати" name="add_button" class="btn btn-primary" />
    <input type="submit" value="Скасувати" name="cancel_button" class="btn btn-default" />
  </div>

</form>

{% endblock content %}
